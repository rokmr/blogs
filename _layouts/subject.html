---
layout: default
---

<article class="subject-page wide-layout">
    <header class="page-header">
        <nav class="breadcrumb">
            <a href="{{ '/notes/' | relative_url }}">Notes</a>
            <span class="sep">/</span>
            <span class="current">{{ page.title }}</span>
        </nav>
        <h1>{{ page.title }}</h1>
        {% if page.description %}
        <p class="description">{{ page.description }}</p>
        {% endif %}
    </header>

    <div class="page-content">
        {% assign subject_slug = page.subject_slug %}
        {% assign subject_notes = site.notes | where_exp: "note", "note.path contains subject_slug" %}

        {% assign subject_level_notes = "" | split: "" %}
        {% for note in subject_notes %}
        {% assign path_parts = note.path | split: "/" %}
        {% if path_parts.size == 3 %}
        {% assign subject_level_notes = subject_level_notes | push: note %}
        {% endif %}
        {% endfor %}

        <!-- Topic Cards Grid -->
        <div class="topics-grid">
            {% for sub in page.sub_subjects %}
            {% assign sub_notes_list = "" | split: "" %}
            {% for note in subject_notes %}
            {% assign path_parts = note.path | split: "/" %}
            {% assign note_name = note.path | split: '/' | last %}
            {% if path_parts.size >= 4 and path_parts[2] == sub and note_name != 'index.md' %}
            {% assign sub_notes_list = sub_notes_list | push: note %}
            {% endif %}
            {% endfor %}
            {% assign sub_notes_count = sub_notes_list.size %}

            <a href="{{ '/notes/' | append: subject_slug | append: '/' | append: sub | append: '/' | relative_url }}"
                class="topic-card{% if sub_notes_count == 0 %} empty{% endif %}">
                <h3>{{ sub | replace: "-", " " }}</h3>
                <span class="count">
                    {% if sub_notes_count > 0 %}
                    {{ sub_notes_count }} note{% if sub_notes_count != 1 %}s{% endif %}
                    {% else %}
                    Coming soon
                    {% endif %}
                </span>
            </a>
            {% endfor %}
        </div>

        {% if subject_level_notes.size > 0 %}
        <section class="general-notes">
            <h2>General Notes</h2>
            <div class="notes-grid">
                {% for note in subject_level_notes %}
                <a href="{{ note.url | relative_url }}" class="note-card">
                    <h3>
                        {{ note.title }}
                        {% if note.status == 'wip' or note.status == 'draft' %}
                        <span class="wip-badge wip-badge-small">
                            <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            WIP
                        </span>
                        {% endif %}
                    </h3>
                    {% if note.description %}
                    <p>{{ note.description | strip_html | truncate: 100 }}</p>
                    {% endif %}
                </a>
                {% endfor %}
            </div>
        </section>
        {% endif %}
    </div>
</article>